extends ../../layout/default.pug
include ../../mixins/filterStatus.pug
include ../../mixins/searchForm.pug
block main 
  h1 Trang danh sách các sản phẩm 
  .card.mb-3
    .card-header Bộ lọc và tìm kiếm 
    .card-body 
      .row
       .col-6
         +filterStatus(filterStatus)
       .col-6 
         +searchForm(keyword)


  .card.mb-3
    .card-header Danh sách
    .card-body   
        table.table.table-hover.table-sm 
         thead 
            tr 
            th STT 
            th Hình ảnh 
            th Tiêu đề
            th Giá
            th Trạng thái 
            th Hành động
         tbody
          each item ,index in products 
            tr 
                td #{index+1}
                td
                    img(src=item.thumbnail
                        alt=item.title
                        width="100px"
                        height="auto")
                td #{item.title}
                td #{item.price}$
                td 
                    if(item.status=="active")
                     a(href="#" class="badge badge-success") Hoạt động
                    else         
                     a(href="#" class="badge badge-danger") Ngưng hoạt động
                td 
                    button(class="btn btn-warning btn-sm") Sửa
                    button(class="btn btn-danger btn-sm ml-1") Xóa

  nav
    ul(class="pagination")
        
        li(class=`page-item`)
                  button(class="page-link" button-pagination=1) Restart
        if(pagination.currentPage>1)
          li(class=`page-item`)
                  button(class="page-link" button-pagination=pagination.currentPage-1) previous

        - for(var i=1;i<=pagination.totalPage;i++)      
              li(class=`page-item ${pagination.currentPage==i?'active':''}`)
                button(class="page-link" button-pagination=i) #{i}

        if(pagination.currentPage<pagination.totalPage)
          li(class=`page-item`)
              button(class="page-link" button-pagination=pagination.currentPage+1) next 
        li(class=`page-item`)
                  button(class="page-link" button-pagination=pagination.totalPage) Last
        //bài toán hiện ra 3 trang gần nhất so với trang hiện tại
        //- - for(var i=pagination.currentPage-1;i<=pagination.currentPage+1;i++)      
        //-       li(class=`page-item ${pagination.currentPage==i?'active':''}`)
        //-         button(class="page-link" button-pagination=i) #{i}